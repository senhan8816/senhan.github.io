<template><h1 id="移动端知识" tabindex="-1"><a class="header-anchor" href="#移动端知识" aria-hidden="true">#</a> 移动端知识</h1>
<h2 id="相关概念" tabindex="-1"><a class="header-anchor" href="#相关概念" aria-hidden="true">#</a> 相关概念</h2>
<p>​ 在学习移动端之前，我们先来学习一些基础的概念和专有名词，这些知识会在以后的面试、工作沟通中经常用到。</p>
<h3 id="_1-屏幕相关" tabindex="-1"><a class="header-anchor" href="#_1-屏幕相关" aria-hidden="true">#</a> 1. 屏幕相关</h3>
<h4 id="_1-1-屏幕大小" tabindex="-1"><a class="header-anchor" href="#_1-1-屏幕大小" aria-hidden="true">#</a> 1.1 屏幕大小</h4>
<p>​ 屏幕大小是指屏幕的对角线长度，单位一般是英寸(inch)。常见的手机屏幕大小有： 3.5 寸、4 寸、4.7 寸、5.0 寸、5.5 寸、6.0 寸等等，英寸与厘米的换算关系为 ：<strong><span style="color:red">1 英寸(inch) = 2.54 厘米(cm)</span></strong></p>
<p><img src="/images/屏幕size.png" alt=""></p>
<h4 id="_1-2-屏幕分辨率" tabindex="-1"><a class="header-anchor" href="#_1-2-屏幕分辨率" aria-hidden="true">#</a> 1.2 屏幕分辨率</h4>
<p>​ 屏幕分辨率是指屏幕在：横向、纵向上所拥有的<strong>物理像素点</strong>总数。一般表示用 n * m 表示。</p>
<p>​ 例如： IPhone 6 的屏幕分辨率为 750 * 1334</p>
<ul>
<li>​ 注意点:
<ul>
<li><span style="color:red"><strong>屏幕分辨率是一个固定值，屏幕生产出来就确定了，无法修改！！</strong></span></li>
<li>屏幕分辨率、显示分辨率是两个概念，电脑或手机的设置中可以修改的是：显示分辨率。</li>
<li>显示分辨率指的是设备当前所用到的物理像素点数，或者说：屏幕分辨率 &gt;= 显示分辨率。</li>
</ul>
</li>
</ul>
<p><strong>常见手机分辨率</strong></p>
<table>
<thead>
<tr>
<th style="text-align:center">型号</th>
<th style="text-align:center">分辨率（物理像素点总和）</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">IPhone 3G / 3GS</td>
<td style="text-align:center">320 * 480</td>
</tr>
<tr>
<td style="text-align:center">IPhone 4 / 4s</td>
<td style="text-align:center">640 * 960</td>
</tr>
<tr>
<td style="text-align:center">IPhone 5 / 5s</td>
<td style="text-align:center">640 * 1136</td>
</tr>
<tr>
<td style="text-align:center"><span style='color:red'><strong>IPhone 6 / 7 / 8</strong></span></td>
<td style="text-align:center"><strong><span style='color:red'>750 * 1334</span></strong></td>
</tr>
<tr>
<td style="text-align:center">IPhone 6p / 7p / 8p</td>
<td style="text-align:center">1242 x 2208</td>
</tr>
<tr>
<td style="text-align:center">IPhone X</td>
<td style="text-align:center">1125 * 2436</td>
</tr>
<tr>
<td style="text-align:center">华为 P30</td>
<td style="text-align:center">1080 * 2340</td>
</tr>
</tbody>
</table>
<h4 id="_1-3-屏幕密度" tabindex="-1"><a class="header-anchor" href="#_1-3-屏幕密度" aria-hidden="true">#</a> 1.3 屏幕密度</h4>
<p>​ 又称：屏幕像素密度，是指屏幕上每英寸里包含的物理像素点个数，单位是 ppi （pixels per inch），其实这里还有另一个单位 dpi（dots per inch），两个值的计算方式都一样，只是使用的场景不同。 ppi 主要用来衡量屏幕，dpi 用来衡量打印机等。</p>
<p><img src="/images/屏幕密度.png" alt="屏幕密度"></p>
<h3 id="_2-像素相关" tabindex="-1"><a class="header-anchor" href="#_2-像素相关" aria-hidden="true">#</a> 2. 像素相关</h3>
<h4 id="_2-1-物理像素" tabindex="-1"><a class="header-anchor" href="#_2-1-物理像素" aria-hidden="true">#</a> 2.1 物理像素</h4>
<p>​ <strong>物理像素又名：设备像素</strong>，物理像素是一个长度单位，单位是 px，1 个物理像素就是屏幕上的一个物理成像点，所谓物理成像点，就是屏幕中一个微小的发光物理元器件(“可简单理解为超级微小的灯泡”)，是屏幕能显示的最小粒度。屏幕的物理像素点数（分辨率）是手机屏幕的一个重要参数，<span style="color:red">由屏幕制造商决定，屏幕生产后无法修改。</span>例如 iPhone 6 的横向上拥有的物理像素为 750、纵向上拥有的物理像素为 1334 ，我们也可以用：750* 1334 表示。</p>
<p>物理像素图示：</p>
<p><img src="/images/物理像素.png" alt="物理像素"></p>
<h4 id="_2-2-css-像素" tabindex="-1"><a class="header-anchor" href="#_2-2-css-像素" aria-hidden="true">#</a> 2.2 css 像素</h4>
<p>​ <strong>css 像素又名： 逻辑像素</strong>，css 像素是一个抽象的长度单位，单位也是 px，它是为 Web 开发者创造的，用来精确的度量 Web 页面上的内容大小。我们在编写 css、JS 中所使用的都是 css 像素（可以理解为：“程序员像素”）；</p>
<p>思考：我代码中所写的 1px（css 像素 ），到了屏幕上到底对应几个物理像素呢？是 1 个 css 像素就对应 1 个物理像素(“发光的灯泡”)吗？要探讨这个对应关系，就要学习接下来的新概念：设备独立像素。</p>
<h4 id="_2-3-设备独立像素" tabindex="-1"><a class="header-anchor" href="#_2-3-设备独立像素" aria-hidden="true">#</a> 2.3 设备独立像素</h4>
<p>设备独立像素简称 DIP 或 DP（device-independent pixel），又称：屏幕密度无关像素。</p>
<blockquote>
<p>在没出现【高清屏】的年代，1 个 css 像素对应 1 个物理像素，但自从【高清屏】问世，二者就不再是 1 对 1 的关系了。苹果公司在 2010 年推出了一种新的显示标准：<strong>在屏幕尺寸不变的前提下</strong>，把更多的物理像素点<strong>压缩</strong>至一块屏幕里，这样分辨率就会更高，显示效果就会更佳细腻。苹果将这种屏幕称为：<strong>Retina 屏幕（又名：视网膜屏幕）</strong>，与此同时推出了配备这种屏幕的划时代数码产品——iPhone4。</p>
</blockquote>
<p>我们来看一个场景：</p>
<p>​ 程序员写了：width = 2px，height = 1px 的盒子，若 1 个 css 像素直接对应 1 个物理像素，由于 iPhone3G/S 与 iPhone4 屏幕尺寸相同，但 iPhone4 的屏幕能容纳下更多的物理像素点，所以 iPhone4 的物理像素点比 iPhone3G/S 小很多，那么这个盒子在 iPhone4 屏幕上也就会比 iPhone3G/S 屏幕上小很多，而事实是 iPhone3G/S 和 iPhone4 下这个盒子是一样大的！！！，只不过 iPhone4 更加细腻、清晰。如何做到的呢？这就要靠设备独立像素。</p>
<p><strong>对比：iPhone3G/S 与 iPhone4 的成像效果：</strong>
<img src="/images/DIP1.png" alt="DIP1">
<img src="/images/DIP.png" alt="DIP"></p>
<p>​ 设备独立像素可以理解：我们的电脑、手机设备中有一个坐标系，这个坐标系中的一个点，就是一个设备独立像素，对应一个可以由程序去使用的虚拟像素(css 像素)。程序根据屏幕特性、将设备独立像素上的点对应到屏幕上的物理像素点。</p>
<p><span style="color:#ee0b41"> 设备独立像素的出现，使得即使在【<strong>高清屏</strong>】下，（例如苹果的 Retina 屏），也可以让元素有正常的尺寸，让代码不受到设备的影响，它是设备厂商根据屏幕特性设置的，无法更改。</span></p>
<h4 id="_2-4-像素比" tabindex="-1"><a class="header-anchor" href="#_2-4-像素比" aria-hidden="true">#</a> 2.4 像素比</h4>
<p>​ 像素比（dpr）：单一方向上设备【物理像素】和【设备独立像素】的比例。即：<strong>dpr = 屏幕分辨率宽度 / 设备独立像素宽度</strong></p>
<div class="language-javascript ext-js line-numbers-mode"><pre v-pre class="language-javascript"><code>window<span class="token punctuation">.</span>devicePixelRatio
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>几款手机的屏幕像素参数，<a href="https://uiiiuiii.com/screen/" target="_blank" rel="noopener noreferrer">点击这里查看更多<ExternalLinkIcon/></a></p>
<table>
<thead>
<tr>
<th style="text-align:center">型号</th>
<th style="text-align:center">分辨率（物理像素点总和）</th>
<th style="text-align:center">设备独立像素(dip 或 dp)</th>
<th style="text-align:center">像素比(dpr)</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">IPhone 3GS</td>
<td style="text-align:center">320 * 480</td>
<td style="text-align:center">320 * 480</td>
<td style="text-align:center">1</td>
</tr>
<tr>
<td style="text-align:center">IPhone 4 / 4s</td>
<td style="text-align:center">640 * 960</td>
<td style="text-align:center">320 * 480</td>
<td style="text-align:center">2</td>
</tr>
<tr>
<td style="text-align:center">IPhone 5 / 5s</td>
<td style="text-align:center">640 * 1136</td>
<td style="text-align:center">320 * 568</td>
<td style="text-align:center">2</td>
</tr>
<tr>
<td style="text-align:center"><span style='color:red'><strong>IPhone 6 / 7 / 8</strong></span></td>
<td style="text-align:center"><strong><span style='color:red'>750 * 1334</span></strong></td>
<td style="text-align:center"><strong><span style='color:red'>375 * 667</span></strong></td>
<td style="text-align:center">2</td>
</tr>
<tr>
<td style="text-align:center">IPhone 6p / 7p / 8p</td>
<td style="text-align:center">1242 x 2208</td>
<td style="text-align:center">414 * 736</td>
<td style="text-align:center">3</td>
</tr>
<tr>
<td style="text-align:center">IPhone X</td>
<td style="text-align:center">1125 * 2436</td>
<td style="text-align:center">375 * 812</td>
<td style="text-align:center">3</td>
</tr>
<tr>
<td style="text-align:center">HUAWEI P10</td>
<td style="text-align:center">1080 x 1920</td>
<td style="text-align:center">360 x 640</td>
<td style="text-align:center">3</td>
</tr>
</tbody>
</table>
<h2 id="移动端视口" tabindex="-1"><a class="header-anchor" href="#移动端视口" aria-hidden="true">#</a> 移动端视口</h2>
<h3 id="_1-布局视口" tabindex="-1"><a class="header-anchor" href="#_1-布局视口" aria-hidden="true">#</a> 1. 布局视口</h3>
<p>​ 用于解决早期 PC 网页在手机上显示的问题。早期的时候我们这样做：pc 端网页宽度一般都为：960px ~ 1024px 这个范围，就算超出了该范围，960px ~ 1024px 这个区域也依然是版心的位置，浏览器厂商针对移动端设备设计了一个容器，先用这个容器去承装 pc 端的网页，这容器的宽度一般是**<span style='color:red'>980px</span><strong>左右，不同的设备可能有所差异，但相差并不大；随后将这个容器</strong>等比例压缩**到与手机等宽，这样就可以保证没有滚动条且能完整呈现页面，但是这样做依然有问题：网页内容被压缩的太小，严重影响用户体验。</p>
<p>移动端获取布局视口方式：</p>
<div class="language-javascript ext-js line-numbers-mode"><pre v-pre class="language-javascript"><code>document<span class="token punctuation">.</span>documentElement<span class="token punctuation">.</span>clientWidth
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><span style='color:red'><strong>注意：布局视口经过压缩后，横向的宽度用 css 像素表达是 980px。也就是说在移动端如果一个盒子的想要在水平方向上占满屏幕，宽度必须是 980px</strong></span></p>
<p><img src="/images/布局视口.png" alt="布局视口"></p>
<h3 id="_2-视觉视口" tabindex="-1"><a class="header-anchor" href="#_2-视觉视口" aria-hidden="true">#</a> 2. 视觉视口</h3>
<p>​ 视觉视口就是用户可见的区域，它的绝对宽度永远和设备屏幕一样宽，但是这个宽度里所包含的 css 像素值是变化的，例如：一般手机会将 980 个 css 像素放入视觉视口中，而 ipad Pro 会将 1024 个 css 像素放入视觉视口中，而且也和用户的缩放相关
<span style="color: red">注意： 缩放不会影响布局视口，只是视觉视口的大小会变化。所以在移动端，缩放不会影响布局</span></p>
<p>移动端视觉视口获取方式：</p>
<div class="language-javascript ext-js line-numbers-mode"><pre v-pre class="language-javascript"><code>window<span class="token punctuation">.</span>innerWidth
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>不过在 Android2、Opera mini 、UC8 中无法正确获取。（一般不通过代码看视觉视口）</p>
<p><img src="/images/视觉视口.png" alt="视觉视口"></p>
<h3 id="_3-理想视口" tabindex="-1"><a class="header-anchor" href="#_3-理想视口" aria-hidden="true">#</a> 3. 理想视口</h3>
<p>与设备独立像素等宽的布局视口，称之为理想视口，所以也可以说理想视口是一种标准：让布局视口宽度 与 屏幕等宽（设备独立像素），靠 meta 标签实现。</p>
<p>设置理想视口的具体方法：</p>
<div class="language-html ext-html line-numbers-mode"><pre v-pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>viewport<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>width=device-width,initial-scale=1.0<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>

&lt;!-- 计算initial-scale公式： initial-scale = 设备独立像素宽度  /  布局视口宽度。 -- >
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><span style="color: red">注意：一般在实现专门为移动端设计的页面时，开启理想视口</span></p>
<p><strong>理想视口优点：</strong></p>
<ul>
<li>
<p>页面清晰展现，内容不再小到难以观察，用户体验较好。</p>
</li>
<li>
<p>更清晰的像素关系（以 iphone6 为例）：布局视口 = 视觉视口 = 设备独立像素 = 375px。</p>
</li>
</ul>
<p><strong>理想视口缺点：</strong></p>
<ul>
<li>同一个元素，在不同屏幕（设备）上，呈现效果不一样</li>
</ul>
<p><strong>解决缺点：做适配。</strong></p>
<h2 id="移动端适配" tabindex="-1"><a class="header-anchor" href="#移动端适配" aria-hidden="true">#</a> 移动端适配</h2>
<h3 id="为什么要做适配" tabindex="-1"><a class="header-anchor" href="#为什么要做适配" aria-hidden="true">#</a> 为什么要做适配</h3>
<p>由于移动端设备的屏幕尺寸大小不一，会出现：同一个元素，在两个不同的手机上显示效果不一样（比例不同）。要想让同一个元素在不同设备上，显示效果一样，就需要适配，<strong>无论采用何种适配方式，中心原则永远是：</strong><span style="color:#ee0b41"><strong>等比</strong></span>！。</p>
<p>主流的适配方式有三种：</p>
<ul>
<li>viewport 适配</li>
<li>rem 适配（主流方式，几乎完美适配）</li>
<li>vw 适配</li>
</ul>
<h3 id="_1-viewport-适配" tabindex="-1"><a class="header-anchor" href="#_1-viewport-适配" aria-hidden="true">#</a> 1. viewport 适配</h3>
<ul>
<li>方法：拿到设计稿之后，设置布局视口宽度为设计稿宽度，然后直接按照设计稿给宽高进行布局即可。</li>
<li>优点：不用复杂的计算，直接使用图稿上标注的 px 值</li>
<li>缺点：
<ul>
<li>不能使用完整的 meta 标签，会导致在某些安卓手机上有兼容性问题。</li>
</ul>
</li>
</ul>
<h3 id="_2-vw-适配" tabindex="-1"><a class="header-anchor" href="#_2-vw-适配" aria-hidden="true">#</a> 2. vw 适配</h3>
<p>vw 和 vh 是两个相对单位 vw（viewport width）vh (viewport height)</p>
<ul>
<li>1vw = 等于布局视口宽度的 1%</li>
<li>1vh = 等于布局视口高度的 1%</li>
</ul>
<p>不过 vw 和 vh 存在兼容性问题</p>
<h3 id="_3-rem-适配" tabindex="-1"><a class="header-anchor" href="#_3-rem-适配" aria-hidden="true">#</a> <span style="color:#ee0b41">3. rem 适配</span></h3>
<h4 id="em-和-rem" tabindex="-1"><a class="header-anchor" href="#em-和-rem" aria-hidden="true">#</a> em 和 rem</h4>
<p>em 和 rem 都是 css 中的长度单位。而且两个都是相对长度单位，不过两个有点区别</p>
<ul>
<li>em 相对的是父级元素的字体大小</li>
<li>rem 相对的是根元素的字体大小</li>
</ul>
<p>rem 适配的原理：编写样式时统一使用 rem 为单位，在不同设备上动态调整根字体大小，动态计算出在不同设备上盒子的大小</p>
<h4 id="具体方案" tabindex="-1"><a class="header-anchor" href="#具体方案" aria-hidden="true">#</a> 具体方案：</h4>
<h5 id="方案一" tabindex="-1"><a class="header-anchor" href="#方案一" aria-hidden="true">#</a> 方案一：</h5>
<p>淘宝、百度的移动端页面用的此方案</p>
<ol>
<li>设置理想视口</li>
<li><span style="color:#ee0b41">通过 js 设置根字体大小 = <strong>( 当前设备横向独立像素值 *100) / 设计稿宽度</strong></span></li>
<li><span style="color:#ee0b41">编写样式时，直接以 rem 为单位，值为：<strong>设计值 / 100</strong> </span></li>
<li>增加 JS 代码进行实时适配</li>
</ol>
<h5 id="方法二" tabindex="-1"><a class="header-anchor" href="#方法二" aria-hidden="true">#</a> 方法二：</h5>
<p>搜狐、唯品会的移动端页面用的此方案</p>
<ol>
<li>设置理想视口</li>
<li><span style="color:#ee0b41">通过 js 设置根字体大小 = <strong>当前设备横向独立像素值 / 10</strong> </span></li>
<li><span style="color:#ee0b41">编写样式时，直接以 rem 为单位，值为：<strong>设计值 / (设计稿宽度 / 10)</strong></span></li>
<li>增加 JS 代码进行实时适配</li>
</ol>
</template>
